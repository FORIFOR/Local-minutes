M4_MODELS_DIR=/Users/saiteku/m4-meet-models
M4_DIAR_DIR=models/diarization
M4_LLM_BIN=llama-cli
M4_LLM_MODEL=/Users/saiteku/m4-meet-models/llm/Meta-Llama-3-8B-Instruct.Q4_K_M.gguf
M4_CT2_DIR=/Users/saiteku/m4-meet-models/ct2_m2m100_418m
M4_TTS_VOICE=/Users/saiteku/m4-meet-models/tts/piper/ja_JP-lessac-medium.onnx
PORT_BACKEND=8002
PORT_FRONTEND=5173
LOG_DIR=backend/data

# ASR 種別（分岐に使う）
M4_ASR_KIND=sense-voice-offline

# さきほど展開したディレクトリを指定
M4_ASR_DIR=/Users/saiteku/workspace/meeting-app/models/transcripts/sherpa-onnx-sense-voice-zh-en-ja-ko-yue-int8-2024-07-17
M4_ASR_TOKENS=${M4_ASR_DIR}/tokens.txt
M4_ASR_MODEL=${M4_ASR_DIR}/model.int8.onnx

# Apple Silicon 最適化: CoreML → CPU の順にトライ
M4_ASR_PROVIDER=cpu
M4_ASR_LIVE=1
M4_VAD_MIN_SIL_MS=100
M4_VAD_MIN_SPEECH_MS=100
M4_VAD_PAD_MS=50

# --- Diarization (完全オフライン / ONNX) ---
M4_DIAR_MODE=onnx
M4_DIAR_SEG=/Users/saiteku/workspace/meeting-app/models/diarization/sherpa-onnx-pyannote-segmentation-3-0/model.int8.onnx
# 精度優先時: ↑を model.onnx に変更可
M4_DIAR_EMB=/Users/saiteku/workspace/meeting-app/models/diarization/nemo_en_titanet_small.onnx
M4_DIAR_SPEECH_THR=0.55
M4_DIAR_MERGE_MS=350
M4_DIAR_MIN_SPK=2
M4_DIAR_MAX_SPK=4
M4_DIAR_CLUSTER=agglo
M4_DIAR_LINKAGE=average
M4_DIAR_DISTANCE=cosine
M4_DIAR_FRAME_HZ=100

# --- Batch Whisper (停止後最終整形) ---
# 最短で軽くするには off に設定
M4_BATCH_WHISPER=off
# 翻訳・要約も任意で制御（完全オフライン/軽量化に合わせる）
M4_BATCH_TRANSLATE=off
M4_BATCH_SUMMARY=off
# 代替: faster-whisper を使う場合
# M4_BATCH_WHISPER=on
# M4_WHISPER_BACKEND=faster-whisper
# M4_WHISPER_MODEL=small
# M4_WHISPER_DEVICE=cpu
# M4_WHISPER_COMPUTE=int8_float16
# M4_WHISPER_BEAM=1
# M4_WHISPER_VAD=1
# M4_WHISPER_THREADS=4

# --- Ollama (OpenAI互換) ---
M4_LLM_PROVIDER=ollama
M4_OLLAMA_BASE=http://127.0.0.1:11434
M4_OLLAMA_MODEL=qwen2.5:7b-instruct
M4_OLLAMA_TEMPERATURE=0.3
M4_OLLAMA_MAX_TOKENS=768
M4_OLLAMA_TIMEOUT=180
